<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator - Indian Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="../../styles.css">
</head>
<body class="bg-gradient-to-br from-orange-100 via-white to-green-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 min-h-screen">
    <!-- Navigation -->
    <nav class="glass-nav backdrop-blur-md bg-white/70 dark:bg-gray-800/70 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <a href="../../index.html" class="flex items-center">
                    <div class="indian-logo">
                        <span class="om-symbol">‡•ê</span>
                    </div>
                    <span class="ml-2 text-xl font-bold">Indian Tools</span>
                </a>
                <div class="flex items-center space-x-4">
                    <button id="theme-toggle" class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700">
                        <i class="fas fa-moon text-gray-600 dark:text-gray-400"></i>
                        <i class="fas fa-sun text-yellow-400 hidden"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Tool Content -->
    <div class="container mx-auto px-4 py-8">
        <div class="glass-card rounded-lg p-8 max-w-4xl mx-auto">
            <h1 class="text-3xl font-bold mb-6 text-center">Password Generator</h1>
            
            <!-- Tool Interface -->
            <div class="space-y-8">
                <!-- Generated Password -->
                <div class="space-y-4">
                    <div class="flex items-center justify-between">
                        <h3 class="text-lg font-semibold">Generated Password</h3>
                        <div class="flex space-x-2">
                            <button id="regenerate-btn" class="tool-btn">
                                <i class="fas fa-sync-alt mr-1"></i>Regenerate
                            </button>
                            <button id="copy-password" class="tool-btn">
                                <i class="fas fa-copy mr-1"></i>Copy
                            </button>
                        </div>
                    </div>
                    <div class="relative">
                        <input type="text" id="password-output" 
                            class="w-full p-4 text-2xl font-mono rounded-lg border focus:ring-2 focus:ring-indian-saffron dark:bg-gray-800 dark:text-white text-center"
                            readonly>
                        <button id="toggle-visibility" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>

                <!-- Password Options -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Length and Character Sets -->
                    <div class="space-y-6">
                        <div>
                            <label class="block text-lg font-semibold mb-2">Password Length</label>
                            <div class="flex items-center space-x-4">
                                <input type="range" id="length-slider" min="8" max="64" value="16" 
                                    class="flex-1">
                                <input type="number" id="length-input" min="8" max="64" value="16" 
                                    class="w-20 p-2 rounded-lg border dark:bg-gray-800 text-center">
                            </div>
                        </div>

                        <div class="space-y-3">
                            <label class="block text-lg font-semibold">Character Sets</label>
                            <div class="space-y-2">
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" id="uppercase" checked 
                                        class="w-4 h-4 text-indian-saffron">
                                    <span>Uppercase Letters (A-Z)</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" id="lowercase" checked 
                                        class="w-4 h-4 text-indian-saffron">
                                    <span>Lowercase Letters (a-z)</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" id="numbers" checked 
                                        class="w-4 h-4 text-indian-saffron">
                                    <span>Numbers (0-9)</span>
                                </label>
                                <label class="flex items-center space-x-2">
                                    <input type="checkbox" id="symbols" checked 
                                        class="w-4 h-4 text-indian-saffron">
                                    <span>Special Characters (!@#$%^&*)</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Password Strength and Requirements -->
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-4">Password Strength</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between mb-1">
                                    <span id="strength-label" class="font-medium">Strong</span>
                                    <span id="strength-score" class="text-sm">100/100</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                                    <div id="strength-bar" class="bg-green-600 h-2.5 rounded-full" style="width: 100%"></div>
                                </div>
                                <ul id="strength-requirements" class="text-sm space-y-1 mt-2">
                                    <li class="text-green-600 dark:text-green-400">
                                        <i class="fas fa-check mr-2"></i>Contains uppercase letters
                                    </li>
                                    <li class="text-green-600 dark:text-green-400">
                                        <i class="fas fa-check mr-2"></i>Contains lowercase letters
                                    </li>
                                    <li class="text-green-600 dark:text-green-400">
                                        <i class="fas fa-check mr-2"></i>Contains numbers
                                    </li>
                                    <li class="text-green-600 dark:text-green-400">
                                        <i class="fas fa-check mr-2"></i>Contains special characters
                                    </li>
                                    <li class="text-green-600 dark:text-green-400">
                                        <i class="fas fa-check mr-2"></i>At least 12 characters long
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div>
                            <h3 class="text-lg font-semibold mb-2">Tips</h3>
                            <ul class="text-sm space-y-2 text-gray-600 dark:text-gray-400">
                                <li><i class="fas fa-info-circle mr-2"></i>Use a unique password for each account</li>
                                <li><i class="fas fa-info-circle mr-2"></i>Longer passwords are generally more secure</li>
                                <li><i class="fas fa-info-circle mr-2"></i>Mix different types of characters</li>
                                <li><i class="fas fa-info-circle mr-2"></i>Avoid using personal information</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        .tool-btn {
            @apply text-sm px-3 py-1 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600;
        }
        input[type="range"] {
            @apply h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700;
        }
        input[type="range"]::-webkit-slider-thumb {
            @apply appearance-none w-6 h-6 bg-indian-saffron rounded-full cursor-pointer;
        }
    </style>

    <script src="../../script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const passwordOutput = document.getElementById('password-output');
            const lengthSlider = document.getElementById('length-slider');
            const lengthInput = document.getElementById('length-input');
            const regenerateBtn = document.getElementById('regenerate-btn');
            const copyBtn = document.getElementById('copy-password');
            const toggleVisibilityBtn = document.getElementById('toggle-visibility');
            const strengthBar = document.getElementById('strength-bar');
            const strengthLabel = document.getElementById('strength-label');
            const strengthScore = document.getElementById('strength-score');
            const strengthRequirements = document.getElementById('strength-requirements');

            const charSets = {
                uppercase: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
                lowercase: 'abcdefghijklmnopqrstuvwxyz',
                numbers: '0123456789',
                symbols: '!@#$%^&*()_+-=[]{}|;:,.<>?'
            };

            // Sync length inputs
            lengthSlider.addEventListener('input', () => {
                lengthInput.value = lengthSlider.value;
                generatePassword();
            });

            lengthInput.addEventListener('input', () => {
                let value = parseInt(lengthInput.value);
                value = Math.min(64, Math.max(8, value));
                lengthInput.value = value;
                lengthSlider.value = value;
                generatePassword();
            });

            // Toggle password visibility
            toggleVisibilityBtn.addEventListener('click', () => {
                const type = passwordOutput.type === 'password' ? 'text' : 'password';
                passwordOutput.type = type;
                toggleVisibilityBtn.innerHTML = `<i class="fas fa-eye${type === 'password' ? '' : '-slash'}"></i>`;
            });

            // Copy functionality
            copyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(passwordOutput.value).then(() => {
                    const originalText = copyBtn.innerHTML;
                    copyBtn.innerHTML = '<i class="fas fa-check mr-1"></i>Copied!';
                    setTimeout(() => {
                        copyBtn.innerHTML = originalText;
                    }, 2000);
                });
            });

            // Generate password
            function generatePassword() {
                const length = parseInt(lengthInput.value);
                let chars = '';
                let password = '';

                // Get selected character sets
                Object.keys(charSets).forEach(set => {
                    if (document.getElementById(set).checked) {
                        chars += charSets[set];
                        // Ensure at least one character from each selected set
                        password += charSets[set].charAt(Math.floor(Math.random() * charSets[set].length));
                    }
                });

                // Fill remaining length with random characters
                for (let i = password.length; i < length; i++) {
                    password += chars.charAt(Math.floor(Math.random() * chars.length));
                }

                // Shuffle password
                password = password.split('').sort(() => Math.random() - 0.5).join('');

                passwordOutput.value = password;
                updateStrength(password);
            }

            // Update password strength
            function updateStrength(password) {
                let score = 0;
                const requirements = [];

                // Length check
                if (password.length >= 12) {
                    score += 25;
                    requirements.push('<li class="text-green-600 dark:text-green-400"><i class="fas fa-check mr-2"></i>At least 12 characters long</li>');
                } else {
                    requirements.push('<li class="text-red-600 dark:text-red-400"><i class="fas fa-times mr-2"></i>At least 12 characters long</li>');
                }

                // Character set checks
                const checks = {
                    uppercase: /[A-Z]/,
                    lowercase: /[a-z]/,
                    numbers: /[0-9]/,
                    symbols: /[!@#$%^&*()_+\-=\[\]{}|;:,.<>?]/
                };

                Object.entries(checks).forEach(([type, regex]) => {
                    if (regex.test(password)) {
                        score += 25;
                        requirements.push(`<li class="text-green-600 dark:text-green-400"><i class="fas fa-check mr-2"></i>Contains ${type}</li>`);
                    } else {
                        requirements.push(`<li class="text-red-600 dark:text-red-400"><i class="fas fa-times mr-2"></i>Contains ${type}</li>`);
                    }
                });

                // Update UI
                strengthBar.style.width = `${score}%`;
                strengthScore.textContent = `${score}/100`;
                strengthRequirements.innerHTML = requirements.join('');

                if (score >= 75) {
                    strengthLabel.textContent = 'Strong';
                    strengthBar.className = 'bg-green-600 h-2.5 rounded-full';
                } else if (score >= 50) {
                    strengthLabel.textContent = 'Medium';
                    strengthBar.className = 'bg-yellow-600 h-2.5 rounded-full';
                } else {
                    strengthLabel.textContent = 'Weak';
                    strengthBar.className = 'bg-red-600 h-2.5 rounded-full';
                }
            }

            // Event listeners for checkboxes
            Object.keys(charSets).forEach(set => {
                document.getElementById(set).addEventListener('change', generatePassword);
            });

            // Regenerate button
            regenerateBtn.addEventListener('click', generatePassword);

            // Initial password generation
            generatePassword();

            // Set initial password field type
            passwordOutput.type = 'password';
        });
    </script>
</body>
</html>